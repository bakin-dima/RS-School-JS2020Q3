(()=>{var t={480:t=>{function e(t){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}e.keys=()=>[],e.resolve=e,e.id=480,t.exports=e}},e={};function r(n){if(e[n])return e[n].exports;var a=e[n]={exports:{}};return t[n](a,a.exports,r),a.exports}r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),(()=>{"use strict";var t;function e(t,e,r,n,...a){let i=null;try{i=document.createElement(t)}catch(t){throw new Error("Cant create HTMLElement, give a proper tag name")}return e&&i.classList.add(...e.split(" ")),r&&Array.isArray(r)?r.forEach((t=>t&&i.appendChild(t))):r&&"object"==typeof r?i.appendChild(r):r&&"string"==typeof r&&(i.innerHTML=r),n&&n.appendChild(i),a.length&&a.forEach((([t,e])=>{""===e&&i.setAttribute(t,""),t.match(/value|id|for|type|src|style|href|target/)?i.setAttribute(t,e):i.dataset[t]=e})),i}(t=r(480)).keys().map(t);const n=t=>`./assets/sounds/${t}.mp3`,a=t=>`./assets/static/${t}.png`;function i(t){for(;t.children.length;)t.removeChild(t.lastChild)}const s=(t,e)=>{t.forEach((t=>{t.content.forEach((r=>{const n={categoryName:t.title,trainCount:0,correctCount:0,mistakesCount:0,en:r.en,ru:r.ru,coef:0};e.push(n)}))}))},o=e("footer","footer",e("div","wrapper wrapper__footer",[e("a","footer__link",e("img","footer__image","","",["src","./assets/static/github.png"],["alt","git-hub-repository-link"]),"",["href","https://github.com/bakin-dima"],["target","_blank"]),e("a","footer__link",e("img","footer__image","","",["src","./assets/static/rsschool.svg"],["alt","rsschool-course-link"]),"",["href","https://rs.school/js/"],["target","_blank"])])),c=[{title:"Animals",content:[{en:"Lion",ru:"Лев"},{en:"Tiger",ru:"Тигр"},{en:"Bear",ru:"Медведь"},{en:"Rabbit",ru:"Кролик"},{en:"Fox",ru:"Лиса"},{en:"Wolf",ru:"Волк"},{en:"Dog",ru:"Собака"},{en:"Cat",ru:"Кот"}]},{title:"Reptiles",content:[{en:"Frog",ru:"Лягушка"},{en:"Lizard",ru:"Ящерица"},{en:"Gecko",ru:"Гекон"},{en:"Chameleon",ru:"Хамелеон"},{en:"Crocodile",ru:"Крокодил"},{en:"Turtle",ru:"Черепаха"},{en:"Snake",ru:"Змея"},{en:"Salamander",ru:"Саламандра"}]},{title:"Birds",content:[{en:"Dove",ru:"Голубь"},{en:"Stork",ru:"Аист"},{en:"Crow",ru:"Ворона"},{en:"Parrot",ru:"Попугай"},{en:"Chicken",ru:"Курица"},{en:"Hummingbird",ru:"Колибри"},{en:"Eagle",ru:"Орёл"},{en:"Penguin",ru:"Пингвин"},{en:"Owl",ru:"Сова"},{en:"Toucan",ru:"Тукан"},{en:"Duck",ru:"Утка"}]},{title:"Flowers",content:[{en:"Rose",ru:"Роза"},{en:"Daisy",ru:"Ромашка"},{en:"Tulip",ru:"Тюльпан"},{en:"Lily",ru:"Лилия"},{en:"Crocus",ru:"Крокус"},{en:"Sunflower",ru:"Подсолнух"},{en:"Snowdrop",ru:"Подснежник"},{en:"Gladiolus",ru:"Гладиолус"}]},{title:"Fruits",content:[{en:"Apple",ru:"Яблоко"},{en:"Avocado",ru:"Авокадо"},{en:"Banana",ru:"Банан"},{en:"Apricot",ru:"Абрикос"},{en:"Grapes",ru:"Виноград"},{en:"Orange",ru:"Апельсин"},{en:"Pineapple",ru:"Ананас"},{en:"Watermelon",ru:"Арбуз"},{en:"Mango",ru:"Манго"}]},{title:"Food",content:[{en:"Potatoes",ru:"Картошка"},{en:"Spaghetti",ru:"Спагетти"},{en:"Soup",ru:"Суп"},{en:"Sushi",ru:"Суши"},{en:"Cake",ru:"Торт"},{en:"Burger",ru:"Бугрег"},{en:"Pancake",ru:"Блинчик"},{en:"Pizza",ru:"Пицца"}]},{title:"Actions",content:[{en:"Hug",ru:"Обнять"},{en:"Kiss",ru:"Поцеловать"},{en:"Jump",ru:"Прыгать"},{en:"Talk",ru:"Говорить"},{en:"Drink",ru:"Пить"},{en:"Eat",ru:"Кушать"},{en:"Sing",ru:"Петь"},{en:"Sleep",ru:"Спать"},{en:"Dance",ru:"Танцевать"},{en:"Read",ru:"Читать"},{en:"Ride",ru:"Ехать"}]},{title:"Family",content:[{en:"Brother",ru:"Брат"},{en:"Sister",ru:"Сестра"},{en:"Mother",ru:"Мама"},{en:"Father",ru:"Папа"},{en:"Grandfather",ru:"Дедушка"},{en:"Grandmother",ru:"Бабушка"},{en:"House",ru:"Дом"},{en:"Family",ru:"Семья"}]}];function u(t,e=null){return JSON.parse(window.localStorage.getItem(t)||e)}let d=[],_=[],l=0;s(c,d),u("statistic")&&(d=u("statistic"));const m={gameOverlayContainer:e("div","game__overlay",""),gameOverlayImage:e("img","game__image",""),gameOverlayTitle:e("div","game__title",""),gameOverlayButton:e("a","game__link","Home","",["href",""])};m.gameOverlayContainer.append(m.gameOverlayImage,m.gameOverlayTitle,m.gameOverlayButton);const g=e("header","header",e("div","wrapper wrapper__header")),v=e("main","main",e("div","wrapper wrapper__main","")),f=e("div","game__answers","",v.firstChild),p=e("div","cards__container","",v.firstChild),h=e("audio","","",v),k=e("audio","","",v);document.body.prepend(m.gameOverlayContainer,g,v,o);const b=e("div","info","",g.firstChild),w=e("button","btn menu__btn","",g.firstChild),C={switchBox:e("div","switch","",g.firstChild),switchBtn:e("input","checkbox","","",["type","checkbox"],["id","checkbox"]),switchLabel:e("label","checkbox__label","","",["for","checkbox"]),trainLabel:e("span","train","Train",""),playLabel:e("span","play","Play","")};C.switchBox.append(C.switchBtn,C.switchLabel,C.trainLabel,C.playLabel);const y=e("button","btn start__btn","START",g.firstChild);y.disabled=!0;const L=e("button","btn info__btn","",g.firstChild);function E({content:t}){i(p),i(f),l=0,_=[],y.innerHTML="START",y.disabled=!1;for(let n=0;n<t.length;n+=1){_.push(t[n].en);const a=e("div","card","",p),i=e("div","card__front","",a,["card",`${t[n].en}`]),s=e("div","card__back",e("div","card__title",`${t[n].ru}`,""),a),o=e("div","card__image","",i);e("img","card__image","",o,["src",(r=t[n].en,`./assets/cards/${r}.png`)]),e("div","card__title",`${t[n].en}`,i),e("button","btn look__btn","",i).addEventListener("click",(()=>{i.classList.add("card__front_rotate"),s.classList.add("card__back_rotate")})),a.addEventListener("mouseleave",(()=>{i.classList.remove("card__front_rotate"),s.classList.remove("card__back_rotate")}))}var r}const T=(()=>{const t=[],r=e("nav","menu","",g.firstChild),n=e("ul","menu__list","",r);e("li","menu__item menu__item_main",e("a","menu__link",'<img src="./assets/static/home.png" class="menu__image"/> Home',"",["href",""]),n);for(let r=0;r<c.length;r+=1){const a=e("li","menu__item","",n,["category",`${c[r].title}`]);e("a","menu__link",`<img src="./assets/categories/${c[r].title}.png" class="menu__image"/> ${c[r].title}`,a,["href",`#${c[r].title}/`]),t.push(a),a.addEventListener("click",(()=>{t.forEach((t=>t.classList.remove("menu__item_active"))),a.classList.add("menu__item_active"),E(c[r])}))}return r})(),A=t=>{const e=t,r=document.querySelector(`[data-category="${e}"]`);document.querySelector(".menu__item_main").classList.remove("menu__item_active"),r.classList.add("menu__item_active")};function S(){T.classList.toggle("menu__switcher"),w.classList.toggle("menu__btn__switcher")}!function(){for(let r=0;r<c.length;r+=1){const n=e("a","card","",p,["href",`#${c[r].title}/`],["category",`${c[r].title}`]),a=e("div","card__categories","",n),i=e("div","card__image","",a);e("img","","",i,["src",(t=c[r].title,`./assets/categories/${t}.png`)]),e("div","card__title",`${c[r].title}`,a),e("span","card__items",`${c[r].content.length}`,a),n.addEventListener("click",(()=>{E(c[r]),A(c[r].title)}))}var t}();const $=(t,e)=>{var r;d.forEach((r=>{if(r.en===t){switch(e){case"mistake":r.mistakesCount+=1;break;case"correct":r.correctCount+=1;break;default:r.trainCount+=1}r.correctCount+r.mistakesCount!==0&&(r.coef=Math.floor(r.correctCount/(r.correctCount+r.mistakesCount)*100))}})),r=d,window.localStorage.setItem("statistic",JSON.stringify(r))},O=t=>{k.src=t,setTimeout((()=>{k.play()}),1)},M=()=>{if(0===_.length)return 0!==l?(O("./assets/sounds/winnerSound.mp3"),m.gameOverlayImage.src=a("game_lose"),m.gameOverlayTitle.innerHTML=`You make ${l} mistakes`,setTimeout((()=>{window.location.reload()}),2e3)):(O("./assets/sounds/failSound.mp3"),m.gameOverlayImage.src=a("game_win"),m.gameOverlayTitle.innerHTML="Good Job!",setTimeout((()=>{window.location.reload()}),2e3)),void m.gameOverlayContainer.classList.add("game__overlay_active");_.sort((()=>2*Math.random()-1)),h.src=n(_[_.length-1]),h.load(),h.play(),y.innerHTML="REPEAT"};y.addEventListener("click",(()=>{"START"===y.innerHTML&&M(),"REPEAT"===y.innerHTML&&h.play()})),p.addEventListener("click",(t=>{const r=t.target.closest(".card__front");if(r){const t=r.getAttribute("data-card");C.switchBtn.checked||((t=>{const e=t.getAttribute("data-card");h.src=n(e),h.load(),setTimeout((()=>{h.play()}),1)})(r),$(t)),C.switchBtn.checked&&"REPEAT"===y.innerHTML&&(r.getAttribute("data-card")===_[_.length-1]?(r.classList.add("game__true"),f.prepend(e("div","answer__true","","")),O("./assets/sounds/correctSound.mp3"),$(t,"correct"),_.pop(),M()):(f.prepend(e("div","answer__false","","")),$(_[_.length-1],"mistake"),O("./assets/sounds/mistakeSound.mp3"),l+=1))}})),C.switchBtn.addEventListener("change",(()=>{C.switchBtn.checked&&(v.setAttribute("data-state","gameMode"),o.setAttribute("data-state","gameMode"),g.setAttribute("data-state","gameMode")),C.switchBtn.checked||(v.removeAttribute("data-state"),o.removeAttribute("data-state"),g.removeAttribute("data-state"))})),w.addEventListener("click",S),T.addEventListener("click",S),L.addEventListener("click",(function(){b.classList.toggle("info__switcher"),L.classList.toggle("info__btn__switcher"),i(b),e("button","btn clear__btn","CLEAR",b).addEventListener("click",(()=>{d=[],s(c,d),localStorage.removeItem("statistic"),b.classList.toggle("info__switcher"),L.classList.toggle("info__btn__switcher")}));const t=e("div","statistic__sort",[e("div","sort__name",[e("div","sort sort__up","","",["sort","name-up"]),e("div","sort sort__down","","",["sort","name-down"])],""),e("div","sort__eng",[e("div","sort sort__up","","",["sort","eng-up"]),e("div","sort sort__down","","",["sort","eng-down"])],""),e("div","sort__rus",[e("div","sort sort__up","","",["sort","rus-up"]),e("div","sort sort__down","","",["sort","rus-down"])],""),e("div","sort__train",[e("div","sort sort__up","","",["sort","train-up"]),e("div","sort sort__down","","",["sort","train-down"])],""),e("div","sort__mistakes",[e("div","sort sort__up","","",["sort","mistake-up"]),e("div","sort sort__down","","",["sort","mistake-down"])],""),e("div","sort__correct",[e("div","sort sort__up","","",["sort","correct-up"]),e("div","sort sort__down","","",["sort","correct-down"])],""),e("div","sort__correct",[e("div","sort sort__up","","",["sort","coef-up"]),e("div","sort sort__down","","",["sort","coef-down"])],"")],b),r=e("div","statistic__container","",b);i(r);const n=()=>{const t=e("div","statistic__category","",r);e("div","statistic__fields",[e("div","statistic__name","Category",""),e("div","statistic__eng","English",""),e("div","statistic__rus","Русский",""),e("div","statistic__train","T",""),e("div","statistic__mistakes","-",""),e("div","statistic__correct","+",""),e("div","statistic__correct","%","")],t),d.forEach((r=>{e("div","statistic__item",[e("div","statistic__name",`${r.categoryName}`,""),e("div","statistic__eng",`${r.en}`,""),e("div","statistic__rus",`${r.ru}`,""),e("div","statistic__train",`${r.trainCount}`,""),e("div","statistic__mistakes",`${r.mistakesCount}`,""),e("div","statistic__correct",`${r.correctCount}`,""),e("div","statistic__coef",`${r.coef}%`,"")],t)}))};n(),t.addEventListener("click",(t=>{const e=t.target.closest(".sort");var a;e&&(a=e.getAttribute("data-sort"),i(r),d=u("statistic"),d.sort(((t,e)=>{switch(a){case"name-up":if(t.categoryName<e.categoryName)return-1;if(t.categoryName<e.categoryName)return 1;break;case"name-down":if(t.categoryName>e.categoryName)return-1;if(t.categoryName>e.categoryName)return 1;break;case"eng-up":if(t.en<e.en)return-1;if(t.en<e.en)return 1;break;case"eng-down":if(t.en>e.en)return-1;if(t.en>e.en)return 1;break;case"rus-up":if(t.ru<e.ru)return-1;if(t.ru<e.ru)return 1;break;case"rus-down":if(t.ru>e.ru)return-1;if(t.ru>e.ru)return 1;break;case"train-up":if(t.trainCount<e.trainCount)return-1;if(t.trainCount<e.trainCount)return 1;break;case"train-down":if(t.trainCount>e.trainCount)return-1;if(t.trainCount>e.trainCount)return 1;break;case"correct-up":if(t.correctCount<e.correctCount)return-1;if(t.correctCount<e.correctCount)return 1;break;case"correct-down":if(t.correctCount>e.correctCount)return-1;if(t.correctCount>e.correctCount)return 1;break;case"mistake-up":if(t.mistakesCount<e.mistakesCount)return-1;if(t.mistakesCount<e.mistakesCount)return 1;break;case"mistake-down":if(t.mistakesCount>e.mistakesCount)return-1;if(t.mistakesCount>e.mistakesCount)return 1;break;case"coef-up":if(t.coef<e.coef)return-1;if(t.coef<e.coef)return 1;break;case"coef-down":if(t.coef>e.coef)return-1;if(t.coef>e.coef)return 1}})),n())}))}))})()})();