(()=>{var e={480:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=480,e.exports=t}},t={};function r(a){if(t[a])return t[a].exports;var n=t[a]={exports:{}};return e[a](n,n.exports,r),n.exports}r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e;function t(e,t,r,a,...n){let i=null;try{i=document.createElement(e)}catch(e){throw new Error("Cant create HTMLElement, give a proper tag name")}return t&&i.classList.add(...t.split(" ")),r&&Array.isArray(r)?r.forEach((e=>e&&i.appendChild(e))):r&&"object"==typeof r?i.appendChild(r):r&&"string"==typeof r&&(i.innerHTML=r),a&&a.appendChild(i),n.length&&n.forEach((([e,t])=>{""===t&&i.setAttribute(e,""),e.match(/value|id|for|type|src|style|href|target/)?i.setAttribute(e,t):i.dataset[e]=t})),i}(e=r(480)).keys().map(e);const a=e=>`./assets/sounds/${e}.mp3`,n=e=>`./assets/static/${e}.png`;function i(e){for(;e.children.length;)e.removeChild(e.lastChild)}const s=(e,t)=>{e.forEach((e=>{e.content.forEach((r=>{const a={categoryName:e.title,trainCount:0,correctCount:0,mistakesCount:0,en:r.en,ru:r.ru,coef:0};t.push(a)}))}))},o=t("footer","footer",t("div","wrapper wrapper__footer",[t("a","footer__link",t("img","footer__image","","",["src","./assets/static/github.png"],["alt","git-hub-repository-link"]),"",["href","https://github.com/bakin-dima"],["target","_blank"]),t("a","footer__link",t("img","footer__image","","",["src","./assets/static/rsschool.svg"],["alt","rsschool-course-link"]),"",["href","https://rs.school/js/"],["target","_blank"])])),c=[{title:"Animals",content:[{en:"Lion",ru:"Лев"},{en:"Tiger",ru:"Тигр"},{en:"Bear",ru:"Медведь"},{en:"Rabbit",ru:"Кролик"},{en:"Fox",ru:"Лиса"},{en:"Wolf",ru:"Волк"},{en:"Dog",ru:"Собака"},{en:"Cat",ru:"Кот"}]},{title:"Reptiles",content:[{en:"Frog",ru:"Лягушка"},{en:"Lizard",ru:"Ящерица"},{en:"Gecko",ru:"Гекон"},{en:"Chameleon",ru:"Хамелеон"},{en:"Crocodile",ru:"Крокодил"},{en:"Turtle",ru:"Черепаха"},{en:"Snake",ru:"Змея"},{en:"Salamander",ru:"Саламандра"}]},{title:"Birds",content:[{en:"Dove",ru:"Голубь"},{en:"Stork",ru:"Аист"},{en:"Crow",ru:"Ворона"},{en:"Parrot",ru:"Попугай"},{en:"Chicken",ru:"Курица"},{en:"Hummingbird",ru:"Колибри"},{en:"Eagle",ru:"Орёл"},{en:"Penguin",ru:"Пингвин"},{en:"Owl",ru:"Сова"},{en:"Toucan",ru:"Тукан"},{en:"Duck",ru:"Утка"}]},{title:"Flowers",content:[{en:"Rose",ru:"Роза"},{en:"Daisy",ru:"Ромашка"},{en:"Tulip",ru:"Тюльпан"},{en:"Lily",ru:"Лилия"},{en:"Crocus",ru:"Крокус"},{en:"Sunflower",ru:"Подсолнух"},{en:"Snowdrop",ru:"Подснежник"},{en:"Gladiolus",ru:"Гладиолус"}]},{title:"Fruits",content:[{en:"Apple",ru:"Яблоко"},{en:"Avocado",ru:"Авокадо"},{en:"Banana",ru:"Банан"},{en:"Apricot",ru:"Абрикос"},{en:"Grapes",ru:"Виноград"},{en:"Orange",ru:"Апельсин"},{en:"Pineapple",ru:"Ананас"},{en:"Watermelon",ru:"Арбуз"},{en:"Mango",ru:"Манго"}]},{title:"Food",content:[{en:"Potatoes",ru:"Картошка"},{en:"Spaghetti",ru:"Спагетти"},{en:"Soup",ru:"Суп"},{en:"Sushi",ru:"Суши"},{en:"Cake",ru:"Торт"},{en:"Burger",ru:"Бугрег"},{en:"Pancake",ru:"Блинчик"},{en:"Pizza",ru:"Пицца"}]},{title:"Actions",content:[{en:"Hug",ru:"Обнять"},{en:"Kiss",ru:"Поцеловать"},{en:"Jump",ru:"Прыгать"},{en:"Talk",ru:"Говорить"},{en:"Drink",ru:"Пить"},{en:"Eat",ru:"Кушать"},{en:"Sing",ru:"Петь"},{en:"Sleep",ru:"Спать"},{en:"Dance",ru:"Танцевать"},{en:"Read",ru:"Читать"},{en:"Ride",ru:"Ехать"}]},{title:"Family",content:[{en:"Brother",ru:"Брат"},{en:"Sister",ru:"Сестра"},{en:"Mother",ru:"Мама"},{en:"Father",ru:"Папа"},{en:"Grandfather",ru:"Дедушка"},{en:"Grandmother",ru:"Бабушка"},{en:"House",ru:"Дом"},{en:"Family",ru:"Семья"}]}];function l(e,t=null){return JSON.parse(window.localStorage.getItem(e)||t)}let u=[],d=[],_=0;s(c,u),l("statistic")&&(u=l("statistic"));const m={gameOverlayContainer:t("div","game__overlay",""),gameOverlayImage:t("img","game__image",""),gameOverlayTitle:t("div","game__title",""),gameOverlayButton:t("a","game__link","Home","",["href",""])};m.gameOverlayContainer.append(m.gameOverlayImage,m.gameOverlayTitle,m.gameOverlayButton);const g=t("header","header",t("div","wrapper wrapper__header")),h=t("main","main",t("div","wrapper wrapper__main","")),v=t("div","game__answers","",h.firstChild),p=t("div","cards__container","",h.firstChild),f=t("audio","","",h),b=t("audio","","",h);document.body.prepend(m.gameOverlayContainer,g,h,o);const k=t("div","info","",g.firstChild),y=t("button","btn menu__btn","",g.firstChild),L={switchBox:t("div","switch","",g.firstChild),switchBtn:t("input","checkbox","","",["type","checkbox"],["id","checkbox"]),switchLabel:t("label","checkbox__label","","",["for","checkbox"]),trainLabel:t("span","train","Train",""),playLabel:t("span","play","Play","")};L.switchBox.append(L.switchBtn,L.switchLabel,L.trainLabel,L.playLabel);const w=t("button","btn start__btn","START",g.firstChild);w.disabled=!0;const C=t("button","btn info__btn","",g.firstChild);function E({content:e}){i(p),i(v),_=0,d=[],w.innerHTML="START",w.disabled=!1;for(let a=0;a<e.length;a+=1){d.push(e[a].en);const n=t("div","card","",p),i=t("div","card__front","",n,["card",`${e[a].en}`]),s=t("div","card__back",t("div","card__title",`${e[a].ru}`,""),n),o=t("div","card__image","",i);t("img","card__image","",o,["src",(r=e[a].en,`./assets/cards/${r}.png`)]),t("div","card__title",`${e[a].en}`,i),t("button","btn look__btn","",i).addEventListener("click",(()=>{i.classList.add("card__front_rotate"),s.classList.add("card__back_rotate")})),n.addEventListener("mouseleave",(()=>{i.classList.remove("card__front_rotate"),s.classList.remove("card__back_rotate")}))}var r}const T=(()=>{const e=[],r=t("nav","menu","",g.firstChild),a=t("ul","menu__list","",r);t("li","menu__item menu__item_main",t("a","menu__link",'<img src="./assets/static/home.png" class="menu__image"/> Home',"",["href",""]),a);for(let r=0;r<c.length;r+=1){const n=t("li","menu__item","",a,["category",`${c[r].title}`]);t("a","menu__link",`<img src="./assets/categories/${c[r].title}.png" class="menu__image"/> ${c[r].title}`,n,["href",`#${c[r].title}/`]),e.push(n),n.addEventListener("click",(()=>{e.forEach((e=>e.classList.remove("menu__item_active"))),n.classList.add("menu__item_active"),E(c[r])}))}return r})(),A=e=>{const t=e,r=document.querySelector(`[data-category="${t}"]`);document.querySelector(".menu__item_main").classList.remove("menu__item_active"),r.classList.add("menu__item_active")};function S(){T.classList.toggle("menu__switcher"),y.classList.toggle("menu__btn__switcher")}!function(){for(let r=0;r<c.length;r+=1){const a=t("a","card","",p,["href",`#${c[r].title}/`],["category",`${c[r].title}`]),n=t("div","card__categories","",a),i=t("div","card__image","",n);t("img","","",i,["src",(e=c[r].title,`./assets/categories/${e}.png`)]),t("div","card__title",`${c[r].title}`,n),t("span","card__items",`${c[r].content.length}`,n),a.addEventListener("click",(()=>{E(c[r]),A(c[r].title)}))}var e}();const $=(e,t)=>{var r;u.forEach((r=>{if(r.en===e){switch(t){case"mistake":r.mistakesCount+=1;break;case"correct":r.correctCount+=1;break;default:r.trainCount+=1}r.correctCount+r.mistakesCount!==0&&(r.coef=Math.floor(r.correctCount/(r.correctCount+r.mistakesCount)*100))}})),r=u,window.localStorage.setItem("statistic",JSON.stringify(r))};function O(){k.classList.toggle("info__switcher"),k.classList.toggle("info__btn__switcher"),i(k),t("button","btn clear__btn","CLEAR",k).addEventListener("click",(()=>{u=[],s(c,u),localStorage.removeItem("statistic")}));const e=t("div","statistic__category","",k);t("div","statistic__fields",[t("div","statistic__name","Category",""),t("div","statistic__eng","English",""),t("div","statistic__rus","Русский",""),t("div","statistic__train","T",""),t("div","statistic__mistakes","-",""),t("div","statistic__correct","+",""),t("div","statistic__correct","%","")],e),u.forEach((r=>{t("div","statistic__item",[t("div","statistic__name",`${r.categoryName}`,""),t("div","statistic__eng",`${r.en}`,""),t("div","statistic__rus",`${r.ru}`,""),t("div","statistic__train",`${r.trainCount}`,""),t("div","statistic__mistakes",`${r.mistakesCount}`,""),t("div","statistic__correct",`${r.correctCount}`,""),t("div","statistic__coef",`${r.coef}%`,"")],e)}))}const M=e=>{b.src=e,setTimeout((()=>{b.play()}),1)},B=()=>{if(0===d.length)return 0!==_?(M("./assets/sounds/winnerSound.mp3"),m.gameOverlayImage.src=n("game_lose"),m.gameOverlayTitle.innerHTML=`You make ${_} mistakes`,setTimeout((()=>{window.location.reload()}),2e3)):(M("./assets/sounds/failSound.mp3"),m.gameOverlayImage.src=n("game_win"),m.gameOverlayTitle.innerHTML="Good Job!",setTimeout((()=>{window.location.reload()}),2e3)),void m.gameOverlayContainer.classList.add("game__overlay_active");d.sort((()=>2*Math.random()-1)),f.src=a(d[d.length-1]),f.load(),f.play(),w.innerHTML="REPEAT"};w.addEventListener("click",(()=>{"START"===w.innerHTML&&B(),"REPEAT"===w.innerHTML&&f.play()})),p.addEventListener("click",(e=>{const r=e.target.closest(".card__front");if(r){const e=r.getAttribute("data-card");L.switchBtn.checked||((e=>{const t=e.getAttribute("data-card");f.src=a(t),f.load(),setTimeout((()=>{f.play()}),1)})(r),$(e)),L.switchBtn.checked&&"REPEAT"===w.innerHTML&&(r.getAttribute("data-card")===d[d.length-1]?(r.classList.add("game__true"),v.prepend(t("div","answer__true","","")),M("./assets/sounds/correctSound.mp3"),$(e,"correct"),d.pop(),B()):(v.prepend(t("div","answer__false","","")),$(d[d.length-1],"mistake"),M("./assets/sounds/mistakeSound.mp3"),_+=1))}})),L.switchBtn.addEventListener("change",(()=>{L.switchBtn.checked&&(h.setAttribute("data-state","gameMode"),o.setAttribute("data-state","gameMode"),g.setAttribute("data-state","gameMode")),L.switchBtn.checked||(h.removeAttribute("data-state"),o.removeAttribute("data-state"),g.removeAttribute("data-state"))})),y.addEventListener("click",S),T.addEventListener("click",S),C.addEventListener("click",O),k.addEventListener("click",O)})()})();