(()=>{var e={480:e=>{function t(e){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}t.keys=()=>[],t.resolve=t,t.id=480,e.exports=t}},t={};function a(n){if(t[n])return t[n].exports;var o=t[n]={exports:{}};return e[n](o,o.exports,a),o.exports}a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e;function t(e,t,a,n,...o){let r=null;try{r=document.createElement(e)}catch(e){throw new Error("Cant create HTMLElement, give a proper tag name")}return t&&r.classList.add(...t.split(" ")),a&&Array.isArray(a)?a.forEach((e=>e&&r.appendChild(e))):a&&"object"==typeof a?r.appendChild(a):a&&"string"==typeof a&&(r.innerHTML=a),n&&n.appendChild(r),o.length&&o.forEach((([e,t])=>{""===t&&r.setAttribute(e,""),e.match(/value|id|placeholder|cols|rows|autocorrect|spellcheck|src/)?r.setAttribute(e,t):r.dataset[e]=t})),r}function n(e){return e.toString().replace(/(\d{1,3}(?=(?:\d\d\d)+(?!\d)))/g,"$1 ")}function o(e){return Math.round(100*e)/100}(e=a(480)).keys().map(e),{elements:{main:null,keysContainer:null,keys:[]},eventHandlers:{oninput:null,onclose:null},properties:{value:"",capsLock:!1},init(){this.elements.main=document.createElement("div"),this.elements.keysContainer=document.createElement("div"),this.elements.main.classList.add("keyboard","keyboard--hidden"),this.elements.keysContainer.classList.add("keyboard__keys"),this.elements.keysContainer.appendChild(this.createKeys()),this.elements.keys=this.elements.keysContainer.querySelectorAll(".keyboard__key"),this.elements.main.prepend(this.elements.keysContainer),document.body.prepend(this.elements.main),document.querySelector(".keyboard__btn").addEventListener("click",(()=>{this.elements.main.classList.toggle("keyboard--hidden")})),document.querySelectorAll(".use-keyboard-input").forEach((e=>{e.addEventListener("focus",(()=>{this.open(e.value,(t=>{e.value=t}))}))}))},createKeys(){const e=document.createDocumentFragment(),t=e=>`<i class="material-icons">${e}</i>`;return["q","w","e","r","t","y","u","i","o","p","backspace","a","s","d","f","g","h","j","k","l","enter","z","x","c","v","b","n","m","done","space"].forEach((a=>{const n=document.createElement("button"),o=-1!==["backspace","enter","done"].indexOf(a);switch(n.setAttribute("type","button"),n.classList.add("keyboard__key"),a){case"backspace":n.classList.add("keyboard__key_backspace"),n.innerHTML=t("backspace"),n.addEventListener("click",(()=>{this.properties.value=this.properties.value.substring(0,this.properties.value.length-1),this.triggerEvent("oninput")}));break;case"enter":n.classList.add("keyboard__key_enter"),n.innerHTML=t("keyboard_return"),n.addEventListener("click",(()=>(this.elements.main.classList.add("keyboard--hidden"),this.properties.value)));break;case"space":n.classList.add("keyboard__key_space"),n.innerHTML=t("space_bar"),n.addEventListener("click",(()=>{this.properties.value+=" ",this.triggerEvent("oninput")}));break;case"done":n.classList.add("keyboard__key_done"),n.innerHTML=t("keyboard_hide"),n.addEventListener("click",(()=>{this.close(),this.triggerEvent("onclose")}));break;default:n.textContent=a.toLowerCase(),n.addEventListener("click",(()=>{this.properties.value+=this.properties.capsLock?a.toUpperCase():a.toLowerCase(),this.triggerEvent("oninput")}))}e.appendChild(n),o&&e.appendChild(document.createElement("br"))})),e},triggerEvent(e){"function"==typeof this.eventHandlers[e]&&this.eventHandlers[e](this.properties.value)},open(e,t,a){this.properties.value=e||"",this.eventHandlers.oninput=t,this.eventHandlers.onclose=a,this.elements.main.classList.remove("keyboard--hidden")},close(){this.properties.value="",this.eventHandlers.oninput=oninput,this.eventHandlers.onclose=onclose,this.elements.main.classList.add("keyboard--hidden")}}.init(),(()=>{const e=new Date,a=t("data","data","",document.querySelector(".header"));t("span","",`${e.getDate()}.${e.getMonth()+1}.${e.getFullYear()}`,a)})();const r=document.querySelector(".use-keyboard-input"),i=document.querySelector("#countries"),s=document.querySelector(".keyboard__key_enter"),c="https://api.covid19api.com/summary",l="https://restcountries.eu/rest/v2/all?fields=name;population;flag",d=document.querySelector(".table-country"),p=document.querySelector(".table-cases"),u=document.querySelector(".table-recovery"),y=document.querySelector(".table-dead"),m=document.querySelector(".list__heading"),h=document.querySelector(".list__main"),v=document.querySelectorAll(".tab"),b=document.querySelectorAll(".fullscreen__btn");let f="Cases",k="Cases",g="Cases";const C={Bolivia:11639909,"Cape Verde":543767,"Congo (Brazzaville)":1408150,"Congo (Kinshasa)":11575e3,"Holy See (Vatican City State)":825,"Iran, Islamic Republic of":78408412,"Korea (South)":51732586,"Lao PDR":7123205,"Macao, SAR China":653100,"Macedonia, Republic of":2077132,"Palestinian Territory":4543126,"Saint Vincent and Grenadines":110210,"Syrian Arab Republic (Syria)":17500657,"Taiwan, Republic of China":23568378,"United Kingdom":66273576,"Venezuela (Bolivarian Republic)":28887118,Moldova:3550900},T={global:!0,country:null,period:!0,population:!0};async function _(){const e=await fetch(c),t=await e.json(),a=await fetch(l),r=await a.json();if(T.global){const e=78270;d.innerHTML="GLOBAL",T.population&&T.period?(p.innerHTML=n(t.Global.TotalConfirmed),u.innerHTML=n(t.Global.TotalRecovered),y.innerHTML=n(t.Global.TotalDeaths)):T.population&&!T.period?(p.innerHTML=n(t.Global.NewConfirmed),u.innerHTML=n(t.Global.NewRecovered),y.innerHTML=n(t.Global.NewDeaths)):!T.population&&T.period?(p.innerHTML=o(t.Global.TotalConfirmed/e),u.innerHTML=o(t.Global.TotalRecovered/e),y.innerHTML=o(t.Global.TotalDeaths/e)):(p.innerHTML=o(t.Global.NewConfirmed/e),u.innerHTML=o(t.Global.NewRecovered/e),y.innerHTML=o(t.Global.NewDeaths/e))}else{const e=t.Countries.filter((e=>e.Country===T.country))[0],a=r.filter((e=>e.name===T.country))[0],i=a.population/1e5;d.innerHTML=`<img src=${a.flag} class="flag"></img><span>${e.Country}</span>`,T.population&&T.period?(p.innerHTML=n(e.TotalConfirmed),u.innerHTML=n(e.TotalRecovered),y.innerHTML=n(e.TotalDeaths)):T.population&&!T.period?(p.innerHTML=n(e.NewConfirmed),u.innerHTML=n(e.NewRecovered),y.innerHTML=n(e.NewDeaths)):!T.population&&T.period?(p.innerHTML=n(o(e.TotalConfirmed/i)),u.innerHTML=n(o(e.TotalRecovered/i)),y.innerHTML=n(o(e.TotalDeaths/i))):(p.innerHTML=n(o(e.NewConfirmed/i)),u.innerHTML=n(o(e.NewRecovered/i)),y.innerHTML=n(o(e.NewDeaths/i)))}}async function w(){h.innerHTML="";const e=await fetch(c);let t=(await e.json()).Countries;const a=await fetch(l),r=await a.json();m.innerHTML=f,m.classList.contains("active-sort")&&(t=function(e,t){let a,n,o;return a="Cases"===activeTab&&T.period?"TotalConfirmed":"Cases"!==activeTab||T.period?"Recovered"===activeTab&&T.period?"TotalRecovered":"Recovered"!==activeTab||T.period?"Deaths"===activeTab&&T.period?"TotalDeaths":"NewDeaths":"NewRecovered":"NewConfirmed",T.population?e.sort(((e,t)=>e[a]>t[a]?1:-1)):e.sort(((e,r)=>{const i=t.filter((t=>t.name===e.Country))[0],s=t.filter((e=>e.name===r.Country))[0];return i&&(n=i.population/1e5),C[e.Country]&&(n=C[e.Country]/1e5),s&&(o=s.population/1e5),C[r.Country]&&(o=C[r.Country]/1e5),e[a]/n>r[a]/o?1:-1})),m.classList.contains("reverse")&&e.reverse(),e}(t,r)),t.forEach((e=>{const t=r.filter((t=>t.name===e.Country))[0];let a;t&&(a=t.population/1e5),C[e.Country]&&(a=C[e.Country]/1e5);const i=document.createElement("div"),s=document.createElement("span"),c=document.createElement("span"),l=document.createElement("img");let d;i.classList.add("country-list-line"),d="Cases"===f&&T.period?e.TotalConfirmed:"Cases"!==f||T.period?"Recovered"===f&&T.period?e.TotalRecovered:"Recovered"!==f||T.period?"Deaths"===f&&T.period?e.TotalDeaths:e.NewDeaths:e.NewRecovered:e.NewConfirmed,T.population||(d=o(d/a)),s.innerHTML=n(d),s.classList.add("num-list"),c.innerHTML=e.Country,c.classList.add("country-list"),t&&(l.src=t.flag),l.classList.add("flag"),i.append(s,c,l),h.append(i)}))}async function E(){document.querySelector(".canvas-wrapper").innerHtml="",document.querySelector("#myChart")&&document.querySelector("#myChart").remove();const e=document.createElement("canvas");e.setAttribute("id","myChart"),e.setAttribute("width","300"),e.setAttribute("height","180"),document.querySelector(".canvas-wrapper").append(e);const t=document.getElementById("myChart").getContext("2d");let a;if(T.global)a=await fetch("https://disease.sh/v3/covid-19/historical/all?lastdays=366");else{let e;e=T.country.indexOf(" ")>-1?T.country.split(" ").map((e=>e[0].toLowerCase()+e.slice(1))).join("-"):T.country[0].toLowerCase()+T.country.slice(1),a="Cases"===k?await fetch(`https://api.covid19api.com/dayone/country/${e}/status/confirmed`):"Recovered"===k?await fetch(`https://api.covid19api.com/dayone/country/${e}/status/recovered`):await fetch(`https://api.covid19api.com/dayone/country/${e}/status/deaths`)}const n=await a.json();let r,i=[],s=[];T.global?"Cases"===k?(i=Object.values(n.cases),s=Object.keys(n.cases)):"Recovered"===k?(i=Object.values(n.recovered),s=Object.keys(n.recovered)):(i=Object.values(n.deaths),s=Object.keys(n.deaths)):(n.forEach((e=>i.push(e.Cases))),s=n.map((e=>e.Date.slice(0,10)))),T.period?r="line":(r="bar",i=i.map(((e,t,a)=>t>0?a[t]-a[t-1]>0?a[t]-a[t-1]:0:e)));const c=await fetch(l),d=await c.json();if(!T.population){let e;if(T.global)e=78270;else{const t=d.filter((e=>e.name===T.country))[0];t&&(e=t.population/1e5),C[T.country]&&(e=C[T.country]/1e5)}i=i.map((t=>o(t/e)))}new Chart(t,{type:r,data:{labels:s,datasets:[{label:k,data:i,backgroundColor:"rgba(255, 206, 86, 0.8)",borderColor:"rgba(255, 206, 86, 0.2)"}]},options:{scales:{yAxes:[{ticks:{beginAtZero:!0,callback:e=>e>999999?e/1e6+"M":e>9999?e/1e3+"k":e}}],xAxes:[{type:"time",time:{unit:"month"}}]}}})}async function M(){let e;document.querySelector("#map").innerHTML="",document.querySelector("#map")&&document.querySelector("#map").remove(),t("div","","",document.querySelector(".map__container"),["id","map"]);try{e=await fetch("https://corona.lmao.ninja/v2/countries")}catch(e){return}const a=await e.json();if(!Array.isArray(a)&&!a.length>0)return;const o={type:"FeatureCollection",features:a.map(((e={})=>{const{countryInfo:t={}}=e,{lat:a,long:n}=t;return{properties:{...e},coordinates:[a,n]}}))},r=new L.Map("map",{center:[53,27],zoom:2,minZoom:2,maxZoom:5}),i=new L.TileLayer("https://api.mapbox.com/styles/v1/jesperchrisper/ckixkl6335ux819sz1p9iqzj0/tiles/256/{z}/{x}/{y}?access_token=pk.eyJ1IjoiamVzcGVyY2hyaXNwZXIiLCJhIjoiY2tpeGtnemppMTQ1dDMwbWVsYzh2c2pyZiJ9.fxYLezkdWZXl2qrgjLR5vw");r.addLayer(i),o.features.forEach((e=>{const t=t=>Math.floor(t/e.properties.population*1e5),a={};let o=0,i="";"Cases"===g?(T.period||T.population?T.population?T.period?o=e.properties.cases:(o=e.properties.todayCases,i="Last Day"):(o=10*e.properties.casesPerOneMillion,i="Peer 100k"):(o=t(e.properties.todayCases),i="Peer 100k & Last Day"),o>2e6?(a.iconUrl="../assets/static/covid-19-red.png",a.iconSize=[35,35]):(a.iconUrl="../assets/static/covid-19.png",a.iconSize=[22,22])):"Recovered"===g?(a.iconUrl="../assets/static/recovered.png",T.period||T.population?T.population?T.period?o=e.properties.recovered:(o=e.properties.todayRecovered,i="Last Day"):(o=10*e.properties.recoveredPerOneMillion,i="Peer 100k"):(o=t(e.properties.todayRecovered),i="Peer 100k & Last Day"),a.iconSize=o>1e6?[35,35]:[22,22]):(a.iconUrl="../assets/static/death.png",T.period||T.population?T.population?T.period?o=e.properties.deaths:(o=e.properties.todayDeaths,i="Last Day"):(o=10*e.properties.deathsPerOneMillion,i="Peer 100k"):(o=t(e.properties.todayDeaths),i="Peer 100k & Last Day"),a.iconSize=o>1e5?[35,35]:[22,22]);const s=L.icon(a),c={title:`${i} ${k} ${e.properties.country}`,clickable:!0,draggable:!1,icon:s},l=L.marker(e.coordinates,c),d=`<p>${i} ${g}: ${n(o)}<p>`;l.bindPopup(`${d}`).openPopup(),l.addTo(r),l.addEventListener("click",(()=>{switch(T.global=!1,T.country=`${e.properties.country}`,e.properties.country){case"USA":T.country="United States of America";break;case"UK":T.country="United Kingdom";break;case"Russia":T.country="Russian Federation"}_(),E()}))}));const s=L.control({position:"bottomleft"});s.onAdd=()=>{const e=t("div","info legend");return"Cases"===g?(t("i","legend__line",[t("i","cases",""),t("i","legend__title","Cases > 2 000 000")],e),t("i","legend__line",[t("i","cases-small",""),t("i","legend__title","Cases < 2 000 000")],e)):"Recovered"===g?(t("i","legend__line",[t("i","recovered",""),t("i","legend__title","Recovered > 1 000 000")],e),t("i","legend__line",[t("i","recovered recovered-small",""),t("i","legend__title","Recovered < 1 000 000")],e)):(t("i","legend__line",[t("i","death",""),t("i","legend__title","Death > 100 000")],e),t("i","legend__line",[t("i","death death-small",""),t("i","legend__title","Death < 100 000")],e)),e},s.addTo(r)}const H=()=>{"Global"===r.value?(T.global=!0,T.country=null):(T.global=!1,T.country=r.value.toString(),T.country=`${T.country[0].toUpperCase()}${T.country.slice(1)}`),_(),E(),r.value=""};r.addEventListener("keydown",(e=>{13===e.keyCode&&(H(),document.querySelector(".keyboard").classList.contains("keyboard--hidden")||document.querySelector(".keyboard").classList.add("keyboard--hidden"))})),s.addEventListener("click",(()=>{H()})),document.querySelectorAll(".switch-checkbox").forEach((e=>{e.addEventListener("click",(e=>function(e){e.target.classList.contains("period")&&(T.period=!T.period,document.querySelectorAll(".period").forEach((t=>{t!==e.target&&(t.checked=!t.checked)}))),e.target.classList.contains("population")&&(T.population=!T.population,document.querySelectorAll(".population").forEach((t=>{t!==e.target&&(t.checked=!t.checked)}))),_(),w(),E(),M()}(e)))})),v.forEach((e=>e.addEventListener("click",(e=>function(e){let t;e.target.parentNode.classList.contains("tab_list")?(t=document.querySelectorAll(".tab_list span"),t.forEach((t=>{t===e.target?t.classList.contains("active")||(t.classList.add("active"),f=t.innerText):t.classList.remove("active")})),m.classList.contains("active-sort")&&m.classList.remove("active-sort"),m.classList.contains("reverse")&&m.classList.remove("reverse"),w()):e.target.parentNode.classList.contains("tab_chart")?(t=document.querySelectorAll(".tab_chart span"),t.forEach((t=>{t===e.target?t.classList.contains("active")||(t.classList.add("active"),k=t.innerText):t.classList.remove("active")})),E()):e.target.parentNode.classList.contains("tab_map")&&(t=document.querySelectorAll(".tab_map span"),t.forEach((t=>{t===e.target?t.classList.contains("active")||(t.classList.add("active"),g=t.innerText):t.classList.remove("active")})),M())}(e))))),m.addEventListener("click",(()=>(m.classList.contains("active-sort")?m.classList.toggle("reverse"):m.classList.add("active-sort"),void w()))),h.addEventListener("click",(e=>function(e){T.global=!1,T.country=e.target.closest("div").children[1].innerText,_(),E()}(e))),b.forEach((e=>e.addEventListener("click",(e=>function(e){e.target.parentNode.parentNode.classList.toggle("fullscreen-active")}(e))))),M(),_(),w(),E(),async function(){const e=await fetch(c),a=(await e.json()).Countries;t("option","","",i,["value","Global"]),a.forEach((e=>{t("option","","",i,["value",`${e.Country}`])}))}()})()})();